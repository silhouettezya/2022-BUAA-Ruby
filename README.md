# README

## 项目介绍 

本次ruby-rails设计为一个B2C商城，管理员负责添加商品，顾客负责购买，顾客直接向商店进行"付钱"(没有真实付款接口)，因此无需记录余额。

## 表单设计

| 表             | 属性                                                         | 约束                     |
| -------------- | ------------------------------------------------------------ | ------------------------ |
| users          | uid, email, password, uuid, default_address_id, is_admin     | 外键：default_address_id |
| shopping_carts | sid, uid, uuid, pid, amount                                  | 外键：uid, uuid, pid     |
| products       | pid, cid, title, status, amount, puid, msrp, price, description | 外键：cid                |
| categories     | cid, title, weight, pcount, ancestry                         | 外键：ancsetry           |
| orders         | oid, uid, pid, aid, amount, total_money                      | 外键：uid, pid, aid      |
| addresses      | aid, uid, atype, contact_name, phone, address, zipcode       | 外键：uid                |

## 功能介绍

### 管理员功能

管理员不能注册，只能在后台添加

```
初始账号：admin@admin.com
密码：123456
```

在管理员账户登录之后，会进入管理平台，可以对商品分类和商品进行管理

商品分类分为一级分类和二级分类，一级分类统辖二级分类，所有商品都需要有明确的二级分类

### 用户功能

#### 注册功能

在未登录状态下点击注册进行注册

#### 登录功能

在首页点击登录按钮进行注册，在注册后会跳转到登录界面

```
预设账号：aaa@123.com
密码：111111
```

#### 商品相关功能

可以通过首页浏览商品，可以点开查看商品详情。可以通过侧方商品分类功能来选择需要查看的对应类型的商品。

可以通过上方搜索栏进行搜索，在首页下搜索进行的是对所有商品的搜索，在对应商品类型中使用搜索功能是对对应类型商品进行搜索。

#### 购物车相关功能

可以在浏览商品时添加购物车，也可以在商品详情页添加购物车。

可以在首页通过购物车入口浏览与编辑该用户的购物车内容，然后进行下单与支付。

#### 下单与地址功能

下单需要先提供地址等信息，一个用户可以拥有多条地址，每个用户有一个默认地址。地址可以编辑改变地址信息与默认地址设置。

在支付页面点击支付会返回首页。

#### 个人信息管理功能

通过首页的个人信息入口可以查看用户所有订单，用户的收货地址以及修改密码。

### 游客功能

在游客状态下用户也可以进行商品的搜索、浏览与添加购物车，在用户注册之后会将当前有课的购物车信息绑定到新注册的用户账号，在账号登录后可以直接看到原本的购物车，不需重复添加。
